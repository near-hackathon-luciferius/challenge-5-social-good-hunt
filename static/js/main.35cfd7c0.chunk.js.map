{"version":3,"sources":["components/SignIn.jsx","components/Popup.jsx","layout.js","images/404.jpg","components/404.jsx","components/Dashboard.jsx","components/Publish.jsx","components/Overview.jsx","components/Donate.jsx","components/Register.jsx","App.js","index.js","config.js"],"names":["SignIn","signIn","small","onClick","Popup","props","className","handleClose","content","Layout","currentUser","signOut","clearMessage","message","id","pageWrapId","outerContainerId","to","floating","large","icon","fontSize","tooltip","accountId","NotFound","src","Image404","alt","width","style","margin","React","Component","Dashboard","version","Publish","onPublishDeed","onSubmit","autoComplete","autoFocus","label","required","type","Overview","contract","onCredit","useState","deeds","setDeeds","useEffect","a","get_deeds_count","count","social_deeds","creditor_id","from_index","limit","parseInt","result","console","log","splitArrayIntoChunksOfLen","fetchData","arr","len","chunks","i","n","length","push","slice","map","chunk","deed","proof","title","author","description","is_creditor","Donate","onDonate","defaultValue","max","min","step","Register","onRegister","require","BOATLOAD_OF_GAS","Big","times","toFixed","App","nearConfig","wallet","lastTransaction","provider","error","setMessage","registered","setRegistered","e","preventDefault","target","elements","fieldset","proof_prompt","title_prompt","description_prompt","disabled","add_deed","value","then","_","credit","storage_balance_bounds","balance_bounds","storage_deposit","account_id","registration_only","donation","donate","fetchRegistered","is_registered","isRegistered","decodeURI","window","history","pushState","location","origin","pathname","requestSignIn","contractId","contractName","methodNames","name","path","element","replace","index","getConfig","process","NEAR_ENV","keyStore","nearAPI","BrowserLocalStorageKeyStore","near","walletConnection","getAccountId","account","state","amount","balance","viewMethods","changeMethods","sender","connection","nearInitPromise","initContract","errorMessage","urlParams","URLSearchParams","search","has","get","ReactDOM","render","document","getElementById","CONTRACT_NAME","module","exports","env","networkId","nodeUrl","walletUrl","helperUrl","keyPath","HOME","masterAccount","Error"],"mappings":"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","file":"static/js/main.35cfd7c0.chunk.js","sourcesContent":["import React from 'react';\nimport { Button } from 'react-materialize';\n\nexport default function SignIn({signIn}) {\n  return (\n    <>\n      <header>\n                   <h1>Social Bounty Hunt Homepage</h1>\n      </header>\n      <Button small onClick={signIn}>Log in</Button>\n      <p>\n          This app demonstrates how to mint nfts in with the NEAR blockchain. While minting\n          the app will ask you to deposite 0.1 NEAR but it acutally only uses roughly 0.01 NEAR.\n          The remaining NEAR that is not used gets refunded on completing the smart contrat call.\n      </p>\n      <p>\n          Go ahead and sign in to try it out!\n      </p>\n    </>\n  );\n}\n","import React from \"react\";\r\n\r\nconst Popup = props => {\r\n  return (\r\n    <div className=\"popup-box\">\r\n      <div className=\"box\">\r\n        <span className=\"close-icon\" onClick={props.handleClose}>x</span>\r\n        {props.content}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Popup;","import React from 'react';\r\nimport { Link, Outlet } from 'react-router-dom'\r\nimport { slide as Menu } from 'react-burger-menu';\r\nimport { Button } from 'react-materialize';\r\nimport PropTypes from 'prop-types';\r\nimport AccountBalanceWalletIcon from '@mui/icons-material/AccountBalanceWallet';\r\nimport BrokenImageIcon from '@mui/icons-material/BrokenImage';\r\nimport Popup from './components/Popup';\r\n\r\nconst Layout = ({currentUser, signIn, signOut, clearMessage, message}) => {\r\n  return (\r\n    <div id=\"App\">\r\n        <Menu pageWrapId={ \"page-wrapper\" } outerContainerId={ \"App\" }>\r\n          <Link className=\"menu-item\" to=\"/\">\r\n            Home\r\n          </Link>\r\n\r\n          <Link className=\"menu-item\" to=\"/publish\">\r\n            Publish Deeds\r\n          </Link>\r\n\r\n          <Link className=\"menu-item\" to=\"/overview\">\r\n            Deed Feed\r\n          </Link>\r\n\r\n          <Link className=\"menu-item\" to=\"/donate\">\r\n            Donate\r\n          </Link>\r\n        </Menu>\r\n        <main id=\"page-wrapper\">\r\n          <Outlet/>\r\n        </main>\r\n        { currentUser\r\n          ? <Button onClick={signOut} floating large className='btn-login' icon={<AccountBalanceWalletIcon fontSize=\"medium\" />} tooltip={'Log out ' + currentUser.accountId + '.'} />\r\n          : <Button onClick={signIn} floating large className='btn-login' icon={<BrokenImageIcon fontSize=\"medium\" />} tooltip='Log in using NEAR wallet.' />\r\n        }        \r\n        {message && <Popup\r\n          content={<>\r\n            <b>A message for you</b>\r\n            <p>{message}</p>\r\n          </>}\r\n          handleClose={clearMessage}\r\n        />}\r\n    </div>\r\n  );\r\n};\r\n\r\nLayout.propTypes = {\r\n  currentUser: PropTypes.shape({\r\n    accountId: PropTypes.string.isRequired,\r\n    balance: PropTypes.string.isRequired\r\n  }),\r\n  signIn: PropTypes.func.isRequired,\r\n  signOut: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Layout;","export default __webpack_public_path__ + \"static/media/404.6fa35088.jpg\";","import React from 'react'\r\nimport Image404 from '../images/404.jpg';\r\n\r\nclass NotFound extends React.Component {\r\n   render() {\r\n      return <img src={Image404} alt=\"Nothing is here.\" \r\n                  width='900'\r\n                  style={{margin:'10em'}}/>;\r\n   }\r\n}\r\nexport default NotFound;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Dashboard = ({version, currentUser}) => {\r\n   return <>\r\n                 <header>\r\n                   <h1>NEAR Challenge #3 - Social Bounty Hunt - {version}</h1>\r\n                 </header>\r\n                  <p>\r\n                      This app demonstrates how to mint nfts in with the NEAR blockchain. While minting\r\n                      the app will ask you to deposite 0.1 NEAR but it acutally only uses roughly 0.01 NEAR.\r\n                      The remaining NEAR that is not used gets refunded on completing the smart contrat call.\r\n                  </p>\r\n                  <p>\r\n                      The basic idea was to create a DeviantArt for the NEAR chain. So everyone can mint their\r\n                      own artworks and through the marketplace they can then buy physical and digital products\r\n                      from the minted NFTs. This includes, but is not limited to, buying rights to use the images\r\n                      on their websites. The information, who has rights could be stored in the metadata of the NFTs.\r\n                      This site yould then provide tools to check whether a specific webpage has the rights to use\r\n                      the artwork.\r\n                  </p>\r\n                 <h5>Head over <Link className=\"menu-item\" to=\"/publish\">here</Link> to publish your first social \r\n                     deed. Or look at social deeds others have published so far <Link className=\"menu-item\" to=\"/overview\">here</Link>.\r\n                     Lastly you can <Link className=\"menu-item\" to=\"/donate\">donate</Link> NEAR to all DEED holders and automatically create a deed with that.\r\n                 </h5>\r\n             </>\r\n}\r\n\r\nDashboard.propTypes = {\r\n  version: PropTypes.string.isRequired,\r\n  currentUser: PropTypes.shape({\r\n    accountId: PropTypes.string.isRequired,\r\n    balance: PropTypes.string.isRequired\r\n  })\r\n};\r\n\r\nexport default Dashboard;","import React from 'react';\r\nimport { Button, TextInput } from 'react-materialize';\r\n\r\nexport default function Publish({onPublishDeed}) {\r\n  return (\r\n    <>\r\n      <header>\r\n                   <h1>Publish a social deed.</h1>\r\n      </header>\r\n      <form onSubmit={onPublishDeed}>\r\n        <fieldset id=\"fieldset\">\r\n            <p>Describe your social deed and provide prove in form of an image or a gif.</p>\r\n            <p>\r\n                When you hit Publish it is possible that there are two transaction to sign.\r\n                In this case your account is first registered with the contract in order for you to\r\n                receive the DEED tokens. In the current implementation the registration cancles the\r\n                actual publish which would need to be executed again after registration.\r\n            </p>\r\n            <p className=\"highlight\">\r\n            <TextInput\r\n                autoComplete=\"off\"\r\n                autoFocus\r\n                id=\"title_prompt\"\r\n                className=\"name_input\"\r\n                label=\"The title of your deed.\"\r\n                required\r\n            />\r\n            </p>\r\n            <p className=\"highlight\">\r\n            <TextInput\r\n                autoComplete=\"off\"\r\n                id=\"description_prompt\"\r\n                className=\"name_input\"\r\n                label=\"A short description of the deed.\"\r\n                required\r\n            />\r\n            </p>\r\n            <p className=\"highlight\">\r\n            <TextInput\r\n                autoComplete=\"off\"\r\n                id=\"proof_prompt\"\r\n                className=\"name_input\"\r\n                label=\"An URL to an image or of gif as prove of the deed.\"\r\n                required\r\n            />\r\n            </p>\r\n            <Button type=\"submit\" small\r\n                    tooltip=\"Publishes the social deed to the blockchain.\">\r\n            Publish\r\n            </Button>\r\n        </fieldset>\r\n      </form>\r\n    </>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button } from 'react-materialize';\r\n\r\nconst Overview = ({currentUser, contract, onCredit}) => {\r\n    const [deeds, setDeeds] = useState([]);\r\n  \r\n  useEffect(() => {\r\n      async function fetchData() {\r\n          const count = await contract.get_deeds_count();\r\n          const result = await contract.social_deeds(\r\n          {\r\n              creditor_id: currentUser.accountId,\r\n              from_index: \"0\",\r\n              limit: parseInt(count)\r\n          });\r\n          console.log(result);\r\n          setDeeds(splitArrayIntoChunksOfLen(result, 2));\r\n      }\r\n      \r\n      fetchData();\r\n  }, [contract, currentUser]);\r\n  \r\n  const splitArrayIntoChunksOfLen = (arr, len) => {\r\n    var chunks = [], i = 0, n = arr.length;\r\n    while (i < n) {\r\n      chunks.push(arr.slice(i, i += len));\r\n    }\r\n    return chunks;\r\n  }\r\n  \r\n   return <>\r\n                 <header>\r\n                   <h1>All deeds that were published.</h1>\r\n                 </header>\r\n                 \r\n                  {deeds.map(chunk => \r\n                  <div className=\"row\">\r\n                    {chunk.map(deed =>\r\n                      <div className=\"col s6\" key={deed.id}>\r\n                          <div className=\"card\">\r\n                            <div className=\"card-image\">\r\n                              <img src={deed.proof} alt={deed.proof}/>\r\n                            </div>\r\n                            <div className=\"card-title\">{deed.title}</div>\r\n                            <div className=\"card-content\">\r\n                              <p><b>Author: {deed.author}</b></p>\r\n                              <p>{deed.description}</p>\r\n                              <p>{deed.is_creditor}</p>\r\n                            </div>\r\n                            <div className=\"card-action\">\r\n                            {//<span className='important'>{deed.creditors}</span>\r\n}\r\n                              <Button onClick={() => onCredit(deed)} small\r\n                                      tooltip=\"Give a credit to the deed author.\"\r\n                                      className=\"margin_button\">\r\n                                Credit\r\n                              </Button>\r\n                            </div>\r\n                          </div>\r\n                      </div>)}          \r\n                  </div>)}\r\n          </>\r\n}\r\n\r\nOverview.propTypes = {\r\n  currentUser: PropTypes.shape({\r\n    accountId: PropTypes.string.isRequired,\r\n    balance: PropTypes.string.isRequired\r\n  }),\r\n  contract: PropTypes.shape({\r\n    get_deeds_count: PropTypes.func.isRequired,\r\n    social_deeds: PropTypes.func.isRequired\r\n  }).isRequired,\r\n};\r\n\r\nexport default Overview;","import React from 'react';\nimport { Button, TextInput } from 'react-materialize';\n\nexport default function Donate({onDonate}) {\n  return (\n    <>\n      <header>\n                   <h1>Donate NEAR.</h1>\n      </header>\n      <form onSubmit={onDonate}>\n        <fieldset id=\"fieldset\">\n            <p>Here you can donate NEAR.</p>\n            <p>\n                When you hit Donate the chosen amount of NEAR will be distributed to all DEED holders.\n                This excludes your own account as you are doing the donation. Secondly a new deed is \n                automatically created which shows that you donated the chosen amount.\n            </p>\n            <p className=\"highlight\">\n            <TextInput\n                autoComplete=\"off\"\n                id=\"donation\"\n                defaultValue={'1'}\n                max=\"100\"\n                min=\"1\"\n                step=\"1\"\n                type=\"number\"\n                label=\"Add the amount of Ⓝ you want to donate.\"\n                required\n            >\n            </TextInput>\n            </p>\n            <Button type=\"submit\" small\n                    tooltip=\"Donates the chosen amount of Ⓝ.\">\n              Donate\n            </Button>\n        </fieldset>\n      </form>\n    </>\n  );\n}","import React from 'react';\nimport { Button } from 'react-materialize';\n\nexport default function Register({onRegister}) {\n  return (\n    <>\n      <header>\n                   <h1>Social Bounty Hunt Homepage</h1>\n      </header>\n      <Button small onClick={onRegister}>Register</Button>\n      <p>\n          To use the DEED token you must be registered to the smart contract.\n          Without that you cannot use it. There is a small fee to pay for the \n          registration in order to pay for the used storage.\n      </p>\n      <p>\n          Go ahead and register to finally try the app!\n      </p>\n    </>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Big from 'big.js';\nimport SignIn from './components/SignIn';\nimport Layout from './layout';\nimport NotFound from './components/404.jsx';\nimport Dashboard from './components/Dashboard.jsx';\nimport Publish from './components/Publish.jsx';\nimport Overview from './components/Overview.jsx';\nimport Donate from './components/Donate.jsx';\nimport Register from './components/Register.jsx';\nimport 'materialize-css/dist/css/materialize.css'\nimport './App.css';\nimport { Route, Routes } from 'react-router-dom'\nvar version = require('../package.json').version;\nrequire('materialize-css');\n\nconst BOATLOAD_OF_GAS = Big(3).times(10 ** 13).toFixed();\n\nconst App = ({ contract, currentUser, nearConfig, wallet, provider, lastTransaction, error }) => {\n  const [message, setMessage] = useState('');\n  const [registered, setRegistered] = useState(false);\n\n  const onPublishDeed = async (e) => {\n    e.preventDefault();\n\n    const { fieldset, proof_prompt, title_prompt, description_prompt } = e.target.elements;\n    \n    fieldset.disabled = true;\n\n    contract.add_deed(\n      {\n        author: currentUser.accountId,\n        title: title_prompt.value,\n        description: description_prompt.value,\n        proof: proof_prompt.value\n      },\n      BOATLOAD_OF_GAS,\n      Big('0.01').times(10 ** 24).toFixed()\n    ).then((_) => {\n      console.log(\"Successfully published.\");\n    })\n  };\n\n  const onCredit = async (deed) => {\n    if(deed.is_creditor){\n      setMessage(`You already credited deed #${deed.id}`);\n      return;\n    }\n\n    contract.credit(\n      {\n        id: deed.id\n      },\n      BOATLOAD_OF_GAS,\n      Big('0.002').times(10 ** 24).toFixed()\n    ).then((_) => {\n      console.log(\"Successfully credited.\");\n    })\n  };\n\n  const onRegister = async (_) => {\n    const balance_bounds = await contract.storage_balance_bounds();\n    contract.storage_deposit(\n      {\n        account_id: currentUser.accountId,\n        registration_only: true\n      },\n      BOATLOAD_OF_GAS,\n      Big(balance_bounds.min).toFixed()\n    ).then((_) => {\n      console.log(\"Successfully registered.\");\n    })\n  };\n\n  const onDonate = async (e) => {\n    e.preventDefault();\n\n    const { fieldset, donation } = e.target.elements;\n    \n    fieldset.disabled = true;\n\n    contract.donate(\n      { },\n      BOATLOAD_OF_GAS,\n      Big(donation.value).times(10 ** 24).toFixed()\n    ).then((_) => {\n      console.log(\"Successfully donated.\");\n    })\n  };\n  \n  useEffect(() => {      \n    const fetchRegistered = async () => {\n      const isRegistered = await contract.is_registered({account_id: currentUser.accountId});\n      setRegistered(isRegistered);\n    }\n\n    fetchRegistered();\n  }, [contract, currentUser]);\n  \n  useEffect(() => {\n      if (error){\n        setMessage(decodeURI(error));\n        window.history.pushState({}, \"\", window.location.origin + window.location.pathname);\n      }\n      else if (lastTransaction) {          \n          setMessage(`Successfully executed transaction ${lastTransaction}`);\n          window.history.pushState({}, \"\", window.location.origin + window.location.pathname);\n      }\n  }, [lastTransaction, error]);\n  \n  const signIn = () => {\n    wallet.requestSignIn(\n      {contractId: nearConfig.contractName, methodNames: [contract.add_deed.name, contract.credit.name, contract.donate.name]}, //contract requesting access\n      'NEAR Challenge #5 - Social Bounty Hunt', //optional name\n      null, //optional URL to redirect to if the sign in was successful\n      null //optional URL to redirect to if the sign in was NOT successful\n    );\n  };\n\n  const signOut = () => {\n    wallet.signOut();\n    window.location.replace(window.location.origin + window.location.pathname);\n  };\n\n  const clearMessage = () => {\n    setMessage('');\n  };\n\n  return (\n    <Routes>\n      <Route path=\"/\" element={<Layout currentUser={currentUser} signIn={signIn} signOut={signOut} clearMessage={clearMessage} message={message}/>}>\n        <Route index element={\n          currentUser\n            ? registered\n                ? <Dashboard version={version} currentUser={currentUser}/>\n                : <Register onRegister={onRegister} />\n            : <SignIn signIn={signIn}/>\n        }/>\n        <Route path=\"publish\" element={\n          currentUser\n            ? registered\n                ? <Publish onPublishDeed={onPublishDeed}/>\n                : <Register onRegister={onRegister} />\n            : <SignIn signIn={signIn}/>\n        }/>\n        <Route path=\"overview\" element={\n          currentUser\n            ? registered\n                ? <Overview currentUser={currentUser} contract={contract} onCredit={onCredit}/>\n                : <Register onRegister={onRegister} />\n            : <SignIn signIn={signIn}/>\n        }/>\n        <Route path=\"donate\" element={\n          currentUser\n            ? registered\n                ? <Donate onDonate={onDonate}/>\n                : <Register onRegister={onRegister} />\n            : <SignIn signIn={signIn}/>\n        }/>\n        <Route path=\"*\" element={<NotFound/>}/>\n      </Route>\n    </Routes>\n  );\n}\n\nApp.propTypes = {\n  currentUser: PropTypes.shape({\n    accountId: PropTypes.string.isRequired,\n    balance: PropTypes.string.isRequired\n  }),\n  nearConfig: PropTypes.shape({\n    contractName: PropTypes.string.isRequired\n  }).isRequired,\n  wallet: PropTypes.shape({\n    requestSignIn: PropTypes.func.isRequired,\n    signOut: PropTypes.func.isRequired\n  }).isRequired\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from \"react-router-dom\";\nimport App from './App';\nimport getConfig from './config.js';\nimport * as nearAPI from 'near-api-js';\n\n// Initializing contract\nasync function initContract() {\n  \n  // get network configuration values from config.js\n  // based on the network ID we pass to getConfig()\n  const nearConfig = getConfig(process.env.NEAR_ENV || 'testnet');\n\n  // create a keyStore for signing transactions using the user's key\n  // which is located in the browser local storage after user logs in\n  const keyStore = new nearAPI.keyStores.BrowserLocalStorageKeyStore();\n\n  // Initializing connection to the NEAR testnet\n  const near = await nearAPI.connect({ keyStore, ...nearConfig });\n\n  // Initialize wallet connection\n  const walletConnection = new nearAPI.WalletConnection(near);\n\n  // Load in user's account data\n  let currentUser;\n  if (walletConnection.getAccountId()) {\n    currentUser = {\n      // Gets the accountId as a string\n      accountId: walletConnection.getAccountId(),\n      // Gets the user's token balance\n      balance: (await walletConnection.account().state()).amount,\n    };\n  }\n\n  // Initializing our contract APIs by contract name and configuration\n  const contract = await new nearAPI.Contract(\n    // User's accountId as a string\n    walletConnection.account(),\n    // accountId of the contract we will be loading\n    // NOTE: All contracts on NEAR are deployed to an account and\n    // accounts can only have one contract deployed to them.\n    nearConfig.contractName,\n    {\n      // View methods are read-only – they don't modify the state, but usually return some value\n      viewMethods: ['is_registered', 'storage_balance_bounds', 'get_deeds_count', 'social_deeds'],\n      // Change methods can modify the state, but you don't receive the returned value when called\n      changeMethods: ['storage_deposit', 'add_deed', 'credit', 'donate'],\n      // Sender is the account ID to initialize transactions.\n      // getAccountId() will return empty string if user is still unauthorized\n      sender: walletConnection.getAccountId(),\n    }\n  );\n  \n  const provider = near.connection.provider;\n  \n  return { contract, currentUser, nearConfig, walletConnection, provider };\n}\n\nwindow.nearInitPromise = initContract().then(\n  ({ contract, currentUser, nearConfig, walletConnection, provider }) => {\n    let urlParams = new URLSearchParams(window.location.search);\n    let lastTransaction;\n    if(urlParams.has('transactionHashes')){\n        lastTransaction = urlParams.get('transactionHashes');\n    }\n    let errorMessage;\n    if(urlParams.has('errorMessage')){\n        errorMessage = urlParams.get('errorMessage');\n    }\n    ReactDOM.render(\n\t  <Router>\n        <App\n          contract={contract}\n          currentUser={currentUser}\n          nearConfig={nearConfig}\n          wallet={walletConnection}\n          lastTransaction={lastTransaction}\n          provider={provider}\n          error={errorMessage}\n        />\n\t  </Router>,\n      document.getElementById('root')\n    );\n  }\n);\n\n","const CONTRACT_NAME = process.env.CONTRACT_NAME || 'social-bounty.cryptosketches.testnet';\n\nfunction getConfig(env) {\n  switch(env) {\n    case 'production':\n    case 'mainnet':\n      return {\n        networkId: 'mainnet',\n        nodeUrl: 'https://rpc.mainnet.near.org',\n        contractName: CONTRACT_NAME,\n        walletUrl: 'https://wallet.near.org',\n        helperUrl: 'https://helper.mainnet.near.org'\n      };\n    case 'development':\n    case 'testnet':\n      return {\n        networkId: 'testnet',\n        nodeUrl: 'https://rpc.testnet.near.org',\n        contractName: CONTRACT_NAME,\n        walletUrl: 'https://wallet.testnet.near.org',\n        helperUrl: 'https://helper.testnet.near.org'\n      };\n    case 'betanet':\n      return {\n        networkId: 'betanet',\n        nodeUrl: 'https://rpc.betanet.near.org',\n        contractName: CONTRACT_NAME,\n        walletUrl: 'https://wallet.betanet.near.org',\n        helperUrl: 'https://helper.betanet.near.org'\n      };\n    case 'local':\n      return {\n        networkId: 'local',\n        nodeUrl: 'http://localhost:3030',\n        keyPath: `${process.env.HOME}/.near/validator_key.json`,\n        walletUrl: 'http://localhost:4000/wallet',\n        contractName: CONTRACT_NAME\n      };\n    case 'test':\n    case 'ci':\n      return {\n        networkId: 'shared-test',\n        nodeUrl: 'https://rpc.ci-testnet.near.org',\n        contractName: CONTRACT_NAME,\n        masterAccount: 'test.near'\n      };\n    case 'ci-betanet':\n      return {\n        networkId: 'shared-test-staging',\n        nodeUrl: 'https://rpc.ci-betanet.near.org',\n        contractName: CONTRACT_NAME,\n        masterAccount: 'test.near'\n      };\n    default:\n      throw Error(`Unconfigured environment '${env}'. Can be configured in src/config.js.`);\n  }\n}\n\nmodule.exports = getConfig;\n"],"sourceRoot":""}